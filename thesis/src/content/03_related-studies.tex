\chapter{Kapcsolódó tanulmányok}
Ennek a fejezetnek célja, hogy összefoglaljam a diplomamunkámhoz előzetesen elvégzett kutatómunka során megismert tanulmányok eredményeit, problémáit, valamint a lehetséges alkalmazásukat.

A kutatómunkámat három témában végeztem, az első a fenyegetésmodellezés (threat modeling) területe volt. Ezen kutatásokon keresztül ismertem meg a fenyegetések felmérése során felmerülő problémákat, megoldásuknak módjait, azok lehetséges megjelenítését és modellezését.

A második téma az autóipari biztonsági elemzések területén készült munkák kutatása volt, hogy meg tudjam ismerni, hogy egy elemzés során milyen komponensekre és azoknak mely attribútumaira kell fókuszálni. Szintén megismertem olyan metodológiákat és best practice-eket, amelyeket az általam kidolgozott metodológiámban is fel tudtam használni.

A harmadik a legspecifikusabb téma azon kutatási eredmények megismerése, amelyek támadási fák (attack trees), illetve támadási gráfok (attack graphs) generálásáról szóltak.Ezek a publikációk az üzembiztonság területén elterjedt hibafa (fault tree) analízis eszközének adaptációi a kiberbiztonsági terület támogatására.

\section{Fenyegetésmodellezés}

Az első témába  a Karahasanovic et al. \cite{Karahasanovic} \textit{"Adapting Threat Modelling Methods for the Automotive Industry"} című munkája illeszkedik. Ez két fenyegetésmodellezési keretrendszert mutat be. Az egyik az Intel-hez köthető TARA (Threat Agent Risk Assessment), ami nem összekeverendő az azonos rövidítéssel fémjelzett Threat Analysis and Risk Assessment metodológiával amit az ISO 21434 definiál. A másik pedig, a sokkal ismertebb Microsoft által fejlesztett STRIDE. 

Az előbbi a grafikus modellezési technikák helyett egy könyvtárakon alapuló fenyegetés elemzést mutat be. Az elemzés során három könyvtárat használnak, egyik a lehetséges támadó ágenseket, másik az általuk véghezvihető támadásokat a harmadik pedig, a jellemző támadási felületeket gyűjti össze. Ezen könyvtárakból határoz meg egy olyan részhalmazt, ami az autóipari rendszerek ellen alkalmazható. 

A második technika a támadó-centrikusság helyett inkább szoftver-centrikus irányt követi, ami egy fehér doboz vizsgálatot tesz lehetővé a rendszeren. Ez, a későbbiekben még előforduló Data Flow Diagramok használatára mutat be egy példát amelyben a szoftver komponensek közti kommunikációt modellezi és így tud egy támadási útvonalat végigkövetni. 

Az előbbi technika gyengesége az, hogy csak magas szinten definiálja a fenyegetéseket, ami nem elégséges a védelmi mechanizmusok meghatározására. Utóbbi ezzel szemben alkalmas arra, viszont nem lehet vele rendszer szintű védelmet modellezni, valamint tervezési fázisban is nehezen alkalmazható.\\

Ma et al.\cite{Ma} \textit{"Threat Modeling for Automotive Security Analysis"} című munkája, a fenyegetésmodellezést egy sokkal gyakorlatiasabb módon közelíti meg, nem feltétlenül a technikai részekre koncentrál, hanem a termékfejlesztési életciklust és a már meglévő üzembiztonsági analíziseket is figyelembe veszi.

Helyesen fogalmazza meg jelzi a szükségét az elemzésszintekre bontásának, valamint hasonlóan az üzembiztonsághoz, egy funkcionális kiberbiztonsági tervnek, és egy termékspecifikációval kiegészített technikai kiberbiztonsági tervnek a szükségességét. Ezeket aztán lebontja és egyrészt a tervezési fázisban, magas szintű követelmények azonosításához, mésrészt a rendszermodellt használva a termékfejlesztési szakasz bemeneteként, harmadrészt a gyártási fázisban használja.

Ez a munka tartalmaz még egy esettanulmányt, amely egy jármű utasterének a biztonsági analízisén vezet végig, a Microsoft Threat Modelling Tool használatával, ami a STRIDE keretrendszerre épít, data flow diagramokat használ és modell alapon generál lehetséges fenyegetéseket.

Konklúzióként emeli ki az igényt, hogy a biztonsági analízis modellezési paradigmáit integrálni kell a rendszermodellezés paradigmáival, ezzel biztosítva, hogy az analízis a változások során napra kész maradjon. A termékfejlesztési fázisokat és kiberbiztonsági elemzéseket a \ref{fig:MA} ábrán részletezik.\\

\begin{figure}[!ht]
\centering
\includegraphics[width=125mm, keepaspectratio]{figures/03_MA.png}
\caption{Fenyegetésmodellezés a termékfejlesztési életciklusokban\cite{Ma}}
\label{fig:MA}
\end{figure}

Ehhez a területhez tartozik még Vivek et al.\cite{Vivek} \textit{"Automotive system threat modelling"} című esettanulmánya, amelyben egy tetszőleges autóipari komponensre,  a kiértékeléshez egy módosított STRIDE modellt használ, valamint a lehetséges fenyegetések feltárására az ISO 21434-ben definiált kockázatelemzés kezdeti lépéseit alkalmazza.

\section{Kiberbiztonság és üzembiztonság kapcsolata}

Ezzel a témával kapcsolatban Dantas et al. \cite{Dantas} \textit{"Security engineering for ISO21434"} című munkája mutatja be, hogy a szabványosított kockázatelemzésre, hogyan lehet már meglévő technikákat alkalmazni, valamint, hogy a kockázatelemzés, hogyan illeszkedik be a már létező folyamatokba. 

A dokumentum részletesen elemzi a kiberbiztonság szerepét az autóiparban, valamint a szoftverfrissítés fontosságát az esetleges sérülékenységek javításában. Szintén ki van emelve a folyamatok rendszeres és folyamatos auditálásának és kiértékelésének a szüksége. Ezekhez jelzi a lehetőséget különböző domén-specifikus nyelvek használatának lehetőségét és automatizálás integrálását, illetve modellellenőrző rendszerek bevezetését. 

Van még szó az üzembiztonság területén alkalmazott FTA (Fault Tree Analysis) és FMEA (Failure Modes and Effects Analysis) technikák felhasználásáról a támadási útvonalak elemzésében, illetve idéz több más tanulmányt és keretrendszert amelyek szintén ezen alkalmazásokat ösztönzik.\\

Böhner et al.\cite{Bohner} \textit{"Extending software architectures from safety to security"} című munkája az üzembiztonságra kidolgozott architektúrát terjeszti ki a kiberbiztonsági kockázatok kezelésére. Helyesen hívja fel a figyelmet arra, hogy a kiberbiztonsági elemzések alapjául használt CIA triádból kettő, az integritás (integrity) valamint a rendelkezésre állás (availability) az üzembiztonság területén már a véletlenszerű hibák esetére alkalmazva vannak. 

Említésre kerülnek még olyan megoldások, amelyek mind a két területen csökkentik a kockázatot. Ilyenek a memória particionálás illetve az üzenetek védelme a módosítás ellen. Bemutatja, hogy a kiberbiztonság esetén a szándékosan okozott hibákat kell figyelembe vennünk, ellentétben az üzembiztonság véletlenszerűen előforduló hibái helyett. A kockázat csökkentő intézkedések alkalmazása pedig szignifikánsan tudja mind a két fajta biztonság hatékony szolgáltatását. \\

Chulp et al.\cite{Chulp} \textit{"ThreatGet: Toward automated attack tree analysis for automative cybersecurity"} című munkája egy ThreatGet nevezetű kiberbiztonsági kockázatelemző eszköz működési elvét mutatja be amely a bécsi egyetemen készült. Ez az eszköz gyakorlatiasan írja le a tervezési fázisban elvégzendő kockázatelemzés menetét. Az eszköz az ASPICE-szal ellentétben már vizsgálja a folyamat lépései közti feedback lehetőségét és egy külön modellt is használ kockázatelemzésre amelyet össze hasonlítana a meglévő rendszermodellel, ahogy az a \ref{fig:CHULP} ábrán látható.

Ebben a munkában továbbá hasonlóan az én megoldásomhoz a STRIDE fenyegetésmodellezési keretrendszer valamint a CIA triád közös használata történik. Szintén érdemes kiemelni a fenyegetésmodellezésre jellemzően használt Data Flow diagram kiegészített formáját amelyet Extended Data Flow diagramnak neveznek. Ezzel egy részről kompozíciók modellezését teszik lehetővé, másrészről pedig értékek (asset) megjelenítéséről is gondoskodnak. Ez a modell már sokkal alkalmasabb komplex kiber-fizikai rendszerek elemzésére az általános Data Flow diagrammokkal szemben. Ez a diagram a \ref{fig:CHULP_EDD} ábrán látható.

\begin{figure}[!ht]
	\centering
	\includegraphics[width=75mm, keepaspectratio]{figures/03_CHULP.png}
	\caption{Fenyegetésmodellezés folyamata a tervezési fázisban\cite{Chulp}}
	\label{fig:CHULP}
\end{figure}

\begin{figure}[!ht]
	\centering
	\includegraphics[width=125mm, keepaspectratio]{figures/03_CHULP_EDD.png}
	\caption{Extended Data Flow diagram grafikus megjelenítése\cite{Chulp}}
	\label{fig:CHULP_EDD}
\end{figure}

Ebben a kutatásban hangzik el először az automatizált támadási fa generálásának fogalma, valamint a tanulmány támadási gráfokat is definiál. Jól használja fel az Extended Data Flow Diagram rendszermodelljét támadási fák és gráfok generálására amelyekből támadási utakat vezet le amelyek alkalmasak lesznek valódi kockázatok meghatározására.

Magukról a támadási fákról alkotott modell pedig a \ref{fig:CHULP_AT} ábra mutatja be. Ezen nehezen látható, hogy az Extended Data Flow diagramból (ami a \ref{fig:CHULP_EDD} ábrán látható) lenne származtatva a modell, valamint a végeredmény egy absztrakt megfogalmazású és nem kifejezetten az egyes komponensekre irányuló támadásokat jelenít meg a támadás lépéseiként. Szintén a dependenciák is kevésbé használják ki a logikai kapuk nyújtotta felépítés lehetőségeit.

\begin{figure}[!ht]
	\centering
	\includegraphics[width=125mm, keepaspectratio]{figures/03_CHULP_AT.png}
	\caption{Támadási fák grafikus megjelenítése\cite{Chulp}}
	\label{fig:CHULP_AT}
\end{figure}

\section{Támadási fa generálás}

Sowka et al.\cite{Sowka} \textit{"A review on automatic generation of attack trees and its application to automative cybersecurity"} című publikációja különböző alkalmazásait értékelte az automatikus támadási fáknak az autóipari kiberbiztonság doménjében. 

Az írás ad egy általános áttekintést a terület fontosságáról, a szabályozási környezet aktuális helyzetéről majd összehasonlította a különböző elérhető megoldásokat az adott problémára.\\

A Salfer et al.\cite{Salfer} \textit{"Efficient attack forest construction for automative on-board networks"} című munkája által bemutatott módszer egy magas fokú modellezett megoldás alapján való támadási utak előállítását határozza meg. 

Kifejezetten érdekes, ahogy felépíti a metamodelljét amiben definiál egy rendszer és egy támadó modellt is. A rendszermodell meghatározza az elektronikus vezérlő egységeket, szoftvereket, kommunikációs hálózatokat és értékeket (\textit{asset}), a támadó modell pedig tartalmazza a tudást, motivációt, amelyek aztán a támadások megvalósíthatóságának értékelésében játszanak szerepet. 

Szintén elemzi ezeknek a támadási utaknak az alkalmazását a rendszer kiberbiztonsági (penetrációs) tesztelésénél és jól ismeri fel, hogy ez egy magasszintű white-box tesztelésben lehetne felhasználható. \\

Karray et al.\cite{Karray} \textit{"Cyber-security of connected vehicles: contributions to chance the risk analysis and security of in-vehicle communications"} kutatása sokban épít az előző bekezdésben említettre, azonban itt nem lehet egy explicit támadómodellről beszélni. A rendszermodell használ bizonyos tulajdonságokat amelyek jelzik a támadó szükséges tudását vagy belépés szükségét, viszont kevesebb feltevést használ a támadások meghatározásánál.\\

Végül pedig Bryans et al.\cite{Bryans} \textit{"A template-based method for the generation of attack trees"} kutatását néztem meg amely kombinálja a modell alapú valamint a könyvtár alapú automatizált generálást, azaz a modell és template alapú támadási fa generálást. A Chulp et al.\cite{Chulp} kritikája alapján is ez volt kiemelve mint legérettebb megoldás, valamint ez is az egyik legfiatalabb. A támadó modell helyett előredefiniált támadási mintákat használ fel, amelyek segítségével rekurzívan tud a fa leveleiből kifejteni komplexebb támadásokat egyfajta bottom-up megközelítésben. A rendszermodell szemben a template-ekkel sokkal egyszerűbb, nem különít el ECU funkcionalitást vagy értékeket, emiatt ez a része nem lesz használható a munkám során, viszont ez teszi lehetővé teszteléskor a black-box megközelítést, valamint akár teszt kódok és eszközök integrációjával is lehetne használni deszkriptív template-ek esetén. 
